<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
		<title> Buffers - Working with Vim</title>

		<link rel="stylesheet" href="static/style.css"/>
		<link rel="stylesheet" href="static/prism.css"/>
	</head>
	<body>

		<div class="container">
			<header>
				<h3><a href="/working-with-vim">Working with Vim</a></h3>
			</header>

			<aside>
				<nav>
					<h3> Contents </h3>
					<ul>
						
						<li><a href="/working-with-vim/intro.html">Introduction</a></li>
						
						<li><a href="/working-with-vim/modes.html">Modes</a></li>
						
						<li><a href="/working-with-vim/help.html">Help Yourself</a></li>
						
						<li><a href="/working-with-vim/tao.html">The Tao of Vim</a></li>
						
						<li><a href="/working-with-vim/motions.html">Motions</a></li>
						
						<li><a href="/working-with-vim/operators.html">Operators</a></li>
						
						<li><a href="/working-with-vim/lines.html">Lines</a></li>
						
						<li><a href="/working-with-vim/text-object.html">Text Objects</a></li>
						
						<li><a href="/working-with-vim/search.html">Search</a></li>
						
						<li><a href="/working-with-vim/nav-marks.html">Nav Marks</a></li>
						
						<li><a href="/working-with-vim/substitute.html">Substitute</a></li>
						
						<li><a href="/working-with-vim/read.html">Read</a></li>
						
						<li><a href="/working-with-vim/registers.html">Registers</a></li>
						
						<li><a href="/working-with-vim/buffers.html">Buffers</a></li>
						
						<li><a href="/working-with-vim/windows.html">Windows</a></li>
						
						<li><a href="/working-with-vim/recording.html">Recording</a></li>
						
						<li><a href="/working-with-vim/configuration.html">Configuration</a></li>
						
						<li><a href="/working-with-vim/plugins.html">Plugins</a></li>
						
						<li><a href="/working-with-vim/sessions.html">Sessions</a></li>
						
						<li><a href="/working-with-vim/snippets.html">Snippets</a></li>
						
						<li><a href="/working-with-vim/terminal.html">Terminal</a></li>
						
						<li><a href="/working-with-vim/writing.html">Writing</a></li>
						
						<li><a href="/working-with-vim/vimwiki.html">VimWiki</a></li>
						
						<li><a href="/working-with-vim/git.html">Git</a></li>
						
					</ul>
				</nav>
			</aside>

			<main>
				<article>
					<h1>Buffers</h1>

<p>Buffers in vim are the in-memory text of files. Your window is a viewport on a buffer. You can switch between open buffers, this is similar to tabs in other editors. Vim does have a concept of tabs too, but they are slightly different, read more about tabs in the <a href="/working-with-vim/windows/">Windows section</a>.</p>

<p>I generally keep it pretty simple and just use buffers. They handle my multiple-files-open-at-the-same-time needs. You don&rsquo;t have to take just my word. Here is a post about <a href="https://joshldavis.com/2014/04/05/vim-tab-madness-buffers-vs-tabs/">Buffers vs Tabs</a>, and the author agrees just using buffers is easier.</p>

<p>Buffers tend to be the default mode for multiple files, so it is what I learned and use.</p>

<h2>Opening Multiple Files</h2>

<p>You can specify opening multiple files on the command-line. For example, <code>vim *.md</code> or <code>vim file file fle</code> each file opens in its own buffer.</p>

<p>From within vim, use <code>:ed FILE</code> to open additional files in new buffers.</p>

<p><span class="tip">ðŸ’¡</span>If you have a command-line program that returns a list of files you want to open, use <code>vim $(command)</code>. For example, working in a git repository, open the set of changed files using:</p>

<pre><code>vim $(git diff --name-only)
</code></pre>

<h2>Main Buffer Commands</h2>

<dl>
<dt><code>:buffers</code> or <code>:ls</code></dt>
<dd>Show open buffers</dd>
<dt><code>:b {bufname}</code></dt>
<dd>Use buffer name, supports partial and tab completion</dd>
<dt><code>:bd</code></dt>
<dd>Close current buffer</dd>
<dt><code>:bn</code></dt>
<dd>Switch to Next buffer</dd>
<dt><code>:bp</code></dt>
<dd>Switch to Previous buffer in list</dd>
<dt><code>:b#</code></dt>
<dd>Last buffer visited, actual # sign</dd>
<dt><code>:b1</code></dt>
<dd>Switch to buffer #1</dd>
<dt><code>:bm</code></dt>
<dd>Switch to next modified buffer</dd>
</dl>

<h2>Buffer Navigation</h2>

<p>Use the above commands to navigate and switch between buffers. The <code>:b {bufname}</code> might be the most useful. Type <code>:b</code> and then start typing the filename, partials work if it is unique, or use tab completion.</p>

<h3>My Shortcuts</h3>

<p>Buffer navigation is so critical for my workflow, I have a set of shortcuts I use to make t it easier. I map <code>&lt;Leader&gt;3</code> to jump back to last buffer, this makes it easy to bounce between two files.</p>

<p>I map <code>&lt;Leader&gt;n</code> to navigate to next buffer, I map <code>Q</code> to close current buffer, and map <code>&lt;Leader&gt;,</code> to open the buffer list to select a buffer.</p>

<p>Here is what the mappings look like in my <code>.vimrc</code>, see <a href="/working-with-vim/configuration">configuration section</a> for more about mapping and leader.</p>

<pre><code class="language-vim">&quot; Buffer Navigation
nnoremap &lt;Leader&gt;3 :b#&lt;CR&gt;      &quot; previous buffer
nnoremap &lt;Leader&gt;n :bn&lt;CR&gt;      &quot; next buffer
nnoremap Q :bd!&lt;CR&gt;             &quot; close buffer
nnoremap &lt;Leader&gt;, :Buffers&lt;CR&gt; &quot; browse buffers
</code></pre>

<p>The <code>:Buffers</code> command above is slightly different and comes from the <a href="https://github.com/junegunn/fzf.vim">fzf.vim plugin</a>. This allows for a more forgiving fuzzy matching of buffer names. See my article <a href="https://mkaz.blog/code/unix-is-my-ide/">Unix is my IDE</a> for more explanation on how I setup vim using fzf and ripgrep for advanced searching, which includes this quick way to switch buffers using fzf.</p>

<figure><asciinema-player src="/working-with-vim/casts/buffers.cast" font-size="large" cols="65" rows="20"></asciinema-player><figcaption>Buffer navigations</figcaption></figure>

<h2>Split Buffers</h2>

<p>You can open buffers in a split window, using the follow. This opens a second window with the buffer loaded. If you want to close the split, and keep the buffer open, use <code>:close</code> or <code>ctrl-w c</code> and not <code>:bd</code>.  Using <code>:bd</code> will close the buffer, and if it is in the only buffer open in a split window, it will also close the window.</p>

<dl>
<dt><code>:sb 1</code></dt>
<dd>Open buffer #1 in a split</dd>
<dt><code>:sb {bufname}</code></dt>
<dd>Open buffer <code>bufname</code> in a split</dd>
<dt><code>:sbn</code></dt>
<dd>Open next buffer in a split</dd>
<dt><code>:sbp</code></dt>
<dd>Open previous buffer in a split</dd>
<dt><code>:sba</code></dt>
<dd>Open all buffers in split windows</dd>
</dl>

				</article>
			</main>
			<footer>
				<span>An <a href="https://mkaz.blog/">mkaz</a> joint </span> Â·
				<span>Built using <a href="https://github.com/mkaz/hastie" rel="generator">Hastie</a></span>
			</footer>
		</div>

		<script src="static/prism.js"></script>
	</body>
</html>
